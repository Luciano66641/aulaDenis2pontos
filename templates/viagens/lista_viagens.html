{% extends 'base.html' %}

{% block title %}Lista de Viagens{% endblock %}

{% block content %}
<h2>Lista de Viagens</h2>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Destino</th>
      <th>Data de Partida</th>
      <th>Preço</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
    {% for viagem in viagens %}
    <tr>
      <td>{{ viagem.destino }}</td>
      <td>{{ viagem.data_partida|date:"d/m/Y" }}</td>
      <td>R$ {{ viagem.preco|floatformat:2 }}</td>
      <td>
        <a href="{% url 'viagens:viagem_por_clientes' viagem.id %}" class="btn btn-sm btn-info">Ver Clientes</a>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="4">Nenhuma viagem cadastrada.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<a href="{% url 'viagens:nova_viagem' %}" class="btn btn-primary">Nova Viagem</a>
<a href="{% url 'viagens:lista_viagens' %}" class="btn btn-secondary mt-3">Voltar à Lista de Viagens</a>
{% endblock %}
